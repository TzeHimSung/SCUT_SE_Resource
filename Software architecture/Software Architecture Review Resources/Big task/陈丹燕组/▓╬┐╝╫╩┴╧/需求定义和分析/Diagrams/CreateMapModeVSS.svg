<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1432px" preserveAspectRatio="none" style="width:1437px;height:1432px;" version="1.1" viewBox="0 0 1437 1432"
    width="1437px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qsxsob4hym6k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="454" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="461" y="146.334">:CreateMapVSSControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="461" x2="616" y1="148.334" y2="148.334"/><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="953.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="960.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="960.5" x2="1272.5" y1="193.8223" y2="193.8223"/><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="874.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="881.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="881.5" x2="932.5" y1="239.3105" y2="239.3105"/><rect fill="#FFFFFF" filter="url(#f1qsxsob4hym6k)" height="853.1172" style="stroke: #000000; stroke-width: 2.0;" width="1413.5" x="13" y="269.2637"/><rect fill="#FFFFFF" filter="url(#f1qsxsob4hym6k)" height="347.0156" style="stroke: #000000; stroke-width: 2.0;" width="851.5" x="23" y="293.5742"/><rect fill="#FFFFFF" height="85.2207" style="stroke: none; stroke-width: 1.0;" width="851.5" x="23" y="555.3691"/><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1293.5" y="706.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1300.5" y="726.7461">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1300.5" x2="1395.5" y1="728.7461" y2="728.7461"/><rect fill="#FFFFFF" filter="url(#f1qsxsob4hym6k)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1393.5" x="23" y="817.3203"/><rect fill="#FFFFFF" filter="url(#f1qsxsob4hym6k)" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="849.5" x="444" y="1024.4941"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="849.5" x="444" y="1071.1152"/><rect fill="#FFFFFF" filter="url(#f1qsxsob4hym6k)" height="120.1973" style="stroke: #000000; stroke-width: 2.0;" width="851.5" x="23" y="1224.3125"/><rect fill="#FFFFFF" height="14.9551" style="stroke: none; stroke-width: 1.0;" width="851.5" x="23" y="1329.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="86.4883" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="86.4883" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="276.5" x2="276.5" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540" x2="540" y1="158.543" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="540" x2="540" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540" x2="540" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="770.5" y1="86.4883" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="770.5" x2="770.5" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="770.5" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="249.5195" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="908.5" x2="908.5" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1118.5" x2="1118.5" y1="204.0313" y2="599.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1118.5" x2="1118.5" y1="599.6348" y2="640.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1118.5" x2="1118.5" y1="640.5898" y2="1420.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1349.5" x2="1349.5" y1="738.9551" y2="1420.1309"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="33" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="64" y1="85.5352" y2="85.5352"/><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#f1qsxsob4hym6k)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="199.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="136" x="206.5" y="71.5352">:CreateMapVSSPage</text><line style="stroke: #000000; stroke-width: 1.0;" x1="206.5" x2="342.5" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="676.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="683.5" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="683.5" x2="853.5" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="264.5,113.4883,274.5,117.4883,264.5,121.4883,268.5,117.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="270.5" y1="117.4883" y2="117.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="10" y="113.0566">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="442,142.7988,452,146.7988,442,150.7988,446,146.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="448" y1="146.7988" y2="146.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="283.5" y="142.3672">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="454" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="461" y="146.334">:CreateMapVSSControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="461" x2="616" y1="148.334" y2="148.334"/><polygon fill="#A80036" points="941.5,188.2871,951.5,192.2871,941.5,196.2871,945.5,192.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="947.5" y1="192.2871" y2="192.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="187.8555">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="953.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="960.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="960.5" x2="1272.5" y1="193.8223" y2="193.8223"/><polygon fill="#A80036" points="862.5,233.7754,872.5,237.7754,862.5,241.7754,866.5,237.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="868.5" y1="237.7754" y2="237.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="233.3438">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="874.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="881.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="881.5" x2="932.5" y1="239.3105" y2="239.3105"/><path d="M13,269.2637 L87,269.2637 L87,276.2637 L77,286.2637 L13,286.2637 L13,269.2637 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="853.1172" style="stroke: #000000; stroke-width: 2.0;" width="1413.5" x="13" y="269.2637"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="282.832">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="102" y="281.8984">[add virual sound source]</text><path d="M23,293.5742 L85,293.5742 L85,300.5742 L75,310.5742 L23,310.5742 L23,293.5742 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="347.0156" style="stroke: #000000; stroke-width: 2.0;" width="851.5" x="23" y="293.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="307.1426">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="100" y="306.209">[add from library]</text><path d="M56,315.8848 L56,340.8848 L733,340.8848 L733,325.8848 L723,315.8848 L56,315.8848 " fill="#FBFB77" filter="url(#f1qsxsob4hym6k)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,315.8848 L723,325.8848 L733,325.8848 L723,315.8848 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="656" x="62" y="333.4531">Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.</text><polygon fill="#A80036" points="264.5,367.1953,274.5,371.1953,264.5,375.1953,268.5,371.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="371.1953" y2="371.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="58.5" y="366.7637">selectExistedSoundSource</text><polygon fill="#A80036" points="528.5,396.5059,538.5,400.5059,528.5,404.5059,532.5,400.5059" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="400.5059" y2="400.5059"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="283.5" y="396.0742">getLocalSoundFragments</text><polygon fill="#A80036" points="758.5,425.8164,768.5,429.8164,758.5,433.8164,762.5,429.8164" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="764.5" y1="429.8164" y2="429.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="547.5" y="425.3848">getLocalSoundFragments</text><polygon fill="#A80036" points="551.5,455.127,541.5,459.127,551.5,463.127,547.5,459.127" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="545.5" x2="769.5" y1="459.127" y2="459.127"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="557.5" y="454.6953">filteredSoundFragments</text><polygon fill="#A80036" points="287.5,484.4375,277.5,488.4375,287.5,492.4375,283.5,488.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="281.5" x2="539.5" y1="488.4375" y2="488.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="293.5" y="484.0059">displayAvailableLocalSoundFragments</text><polygon fill="#A80036" points="264.5,513.748,274.5,517.748,264.5,521.748,268.5,517.748" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="517.748" y2="517.748"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="58.5" y="513.3164">selectSoundFragment</text><polygon fill="#A80036" points="528.5,543.0586,538.5,547.0586,528.5,551.0586,532.5,547.0586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="547.0586" y2="547.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="283.5" y="542.627">addSoundFragment</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="874.5" y1="556.3691" y2="556.3691"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="28" y="567.0039">[add from file]</text><polygon fill="#A80036" points="264.5,587.3242,274.5,591.3242,264.5,595.3242,268.5,591.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="591.3242" y2="591.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="58.5" y="586.8926">selectFromFileSystem</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="500" x="450.75" y="624.2695">somehow CreateMapVSSControl got the new SoundFragment # specify during implementation</text><polygon fill="#A80036" points="897,664.5898,907,668.5898,897,672.5898,901,668.5898" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="903" y1="668.5898" y2="668.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="547.5" y="664.1582">getCurrentLocation</text><polygon fill="#A80036" points="551.5,693.9004,541.5,697.9004,551.5,701.9004,547.5,697.9004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="545.5" x2="908" y1="697.9004" y2="697.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="557.5" y="693.4688">currentLocation</text><polygon fill="#A80036" points="1281.5,723.2109,1291.5,727.2109,1281.5,731.2109,1285.5,727.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1287.5" y1="727.2109" y2="727.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="722.7793">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1qsxsob4hym6k)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1293.5" y="706.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1300.5" y="726.7461">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1300.5" x2="1395.5" y1="728.7461" y2="728.7461"/><polygon fill="#A80036" points="1338,768.6992,1348,772.6992,1338,776.6992,1342,772.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1344" y1="772.6992" y2="772.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="547.5" y="768.2676">setSoundFragment</text><polygon fill="#A80036" points="1338,798.0098,1348,802.0098,1338,806.0098,1342,802.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1344" y1="802.0098" y2="802.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="547.5" y="797.5781">setLocation</text><path d="M23,817.3203 L85,817.3203 L85,824.3203 L75,834.3203 L23,834.3203 L23,817.3203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1393.5" x="23" y="817.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="830.8887">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="100" y="829.9551">[user choose to alter position]</text><polygon fill="#A80036" points="264.5,851.6309,274.5,855.6309,264.5,859.6309,268.5,855.6309" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="855.6309" y2="855.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="58.5" y="851.1992">setCurrentSoundSourceLocation</text><polygon fill="#A80036" points="528.5,880.9414,538.5,884.9414,528.5,888.9414,532.5,884.9414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="884.9414" y2="884.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="283.5" y="880.5098">setLocation</text><polygon fill="#A80036" points="1338,910.252,1348,914.252,1338,918.252,1342,914.252" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1344" y1="914.252" y2="914.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="547.5" y="909.8203">setLocation</text><polygon fill="#A80036" points="264.5,946.5625,274.5,950.5625,264.5,954.5625,268.5,950.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="950.5625" y2="950.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="58.5" y="946.1309">setSoundSourceMode</text><polygon fill="#A80036" points="528.5,975.873,538.5,979.873,528.5,983.873,532.5,979.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="979.873" y2="979.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="283.5" y="975.4414">setSoundSourceMode</text><polygon fill="#A80036" points="1338,1005.1836,1348,1009.1836,1338,1013.1836,1342,1009.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1344" y1="1009.1836" y2="1009.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="547.5" y="1004.752">setSoundSourceMode</text><path d="M444,1024.4941 L506,1024.4941 L506,1031.4941 L496,1041.4941 L444,1041.4941 L444,1024.4941 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="849.5" x="444" y="1024.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="459" y="1038.0625">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="521" y="1037.1289">[confirm]</text><polygon fill="#A80036" points="1106.5,1058.8047,1116.5,1062.8047,1106.5,1066.8047,1110.5,1062.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1112.5" y1="1062.8047" y2="1062.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="547.5" y="1058.373">addSoundSource(soundSource)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="444" x2="1293.5" y1="1072.1152" y2="1072.1152"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="449" y="1082.75">[cancel]</text><polygon fill="#A80036" points="1106.5,1103.0703,1116.5,1107.0703,1106.5,1111.0703,1110.5,1107.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1112.5" y1="1107.0703" y2="1107.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="547.5" y="1102.6387">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1109.5" x2="1127.5" y1="1098.0703" y2="1116.0703"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1109.5" x2="1127.5" y1="1116.0703" y2="1098.0703"/><polygon fill="#A80036" points="264.5,1146.3809,274.5,1150.3809,264.5,1154.3809,268.5,1150.3809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1150.3809" y2="1150.3809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="58.5" y="1145.9492">setVSSNameAndDescription</text><polygon fill="#A80036" points="528.5,1175.6914,538.5,1179.6914,528.5,1183.6914,532.5,1179.6914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="1179.6914" y2="1179.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="283.5" y="1175.2598">setVSSNameAndDescription</text><polygon fill="#A80036" points="1106.5,1205.002,1116.5,1209.002,1106.5,1213.002,1110.5,1209.002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1112.5" y1="1209.002" y2="1209.002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="547.5" y="1204.5703">setVSSNameAndDescription</text><path d="M23,1224.3125 L85,1224.3125 L85,1231.3125 L75,1241.3125 L23,1241.3125 L23,1224.3125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="120.1973" style="stroke: #000000; stroke-width: 2.0;" width="851.5" x="23" y="1224.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="1237.8809">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="100" y="1236.9473">[confirm]</text><polygon fill="#A80036" points="264.5,1258.623,274.5,1262.623,264.5,1266.623,268.5,1262.623" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1262.623" y2="1262.623"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="58.5" y="1258.1914">comfirmVSSCreation</text><polygon fill="#A80036" points="528.5,1287.9336,538.5,1291.9336,528.5,1295.9336,532.5,1291.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="1291.9336" y2="1291.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="283.5" y="1287.502">comfirmVSSCreation</text><polygon fill="#A80036" points="758.5,1317.2441,768.5,1321.2441,758.5,1325.2441,762.5,1321.2441" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="764.5" y1="1321.2441" y2="1321.2441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="547.5" y="1316.8125">addSoundSpace(newSoundSpace)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="874.5" y1="1330.5547" y2="1330.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="28" y="1341.1895">[cancel]</text><polygon fill="#A80036" points="287.5,1368.5098,277.5,1372.5098,287.5,1376.5098,283.5,1372.5098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281.5" x2="539.5" y1="1372.5098" y2="1372.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="293.5" y="1368.0781">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1363.5098" y2="1381.5098"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1381.5098" y2="1363.5098"/><polygon fill="#A80036" points="897,1397.8203,907,1401.8203,897,1405.8203,901,1401.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="903" y1="1401.8203" y2="1401.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="547.5" y="1397.3887">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="900" x2="918" y1="1392.8203" y2="1410.8203"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="900" x2="918" y1="1410.8203" y2="1392.8203"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="531.5" x2="549.5" y1="1392.8203" y2="1410.8203"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="531.5" x2="549.5" y1="1410.8203" y2="1392.8203"/><!--
@startuml Diagrams/CreateMapModeVSS
hide footbox
skinparam sequenceParticipant underline


actor User as user
participant ":CreateMapVSSPage" as createboundary
participant ":CreateMapVSSControl" as createcontrol
participant ":LocalSoundSpaceLibrary" as library
participant ":Sensor" as sensor
participant "newSoundSpace:MapModeVirtualSoundSpace" as newspace


[-> createboundary: <<create>>
create createcontrol
createboundary -> createcontrol: <<create>>
create newspace
createcontrol -> newspace: <<create>>
create sensor
createcontrol -> sensor: <<create>>
loop add virual sound source
    alt add from library
        note right of user: Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.
        user -> createboundary: selectExistedSoundSource
        createboundary -> createcontrol: getLocalSoundFragments
        createcontrol -> library: getLocalSoundFragments
        library - -> createcontrol: filteredSoundFragments
        createcontrol - -> createboundary: displayAvailableLocalSoundFragments
        user -> createboundary: selectSoundFragment
        createboundary -> createcontrol: addSoundFragment
    else add from file
        user -> createboundary: selectFromFileSystem
        ...somehow CreateMapVSSControl got the new SoundFragment # specify during implementation...

    end

    createcontrol -> sensor: getCurrentLocation
    sensor - -> createcontrol: currentLocation

    participant ":SoundSource" as source
    create source
    createcontrol -> source: <<create>>
    createcontrol -> source: setSoundFragment
    createcontrol -> source: setLocation

    alt user choose to alter position
        user -> createboundary: setCurrentSoundSourceLocation
        createboundary -> createcontrol : setLocation
        createcontrol -> source: setLocation
    end
    user -> createboundary: setSoundSourceMode
    createboundary -> createcontrol: setSoundSourceMode
    createcontrol -> source: setSoundSourceMode
    alt confirm
        createcontrol -> newspace: addSoundSource(soundSource)
    else cancel
        createcontrol -> newspace: <<destroy>>
        destroy newspace
    end
end
user -> createboundary: setVSSNameAndDescription
createboundary -> createcontrol: setVSSNameAndDescription
createcontrol -> newspace: setVSSNameAndDescription
alt confirm
    user -> createboundary: comfirmVSSCreation
    createboundary -> createcontrol: comfirmVSSCreation
    createcontrol -> library: addSoundSpace(newSoundSpace)
else cancel

end
createcontrol -> createboundary: <<destroy>>
destroy createboundary
createcontrol -> sensor: <<destroy>>
destroy sensor
destroy createcontrol
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>